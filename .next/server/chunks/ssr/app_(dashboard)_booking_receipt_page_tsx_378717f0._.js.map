{"version":3,"sources":["../../../../app/%28dashboard%29/booking/receipt/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter, useSearchParams } from \"next/navigation\"\r\nimport { storage, type Booking } from \"@/lib/storage\"\r\n\r\nexport default function ReceiptPage() {\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams()\r\n  const bookingId = searchParams.get(\"bookingId\")\r\n  const [booking, setBooking] = useState<Booking | null>(null)\r\n\r\n  useEffect(() => {\r\n    if (bookingId) {\r\n      const b = storage.getBookings().find((b) => b.id === bookingId)\r\n      setBooking(b || null)\r\n    }\r\n  }, [bookingId])\r\n\r\n  if (!booking) return <div>Loading...</div>\r\n\r\n  const client = storage.getClients().find((c) => c.id === booking.clientId)\r\n  const accommodation = storage.getAccommodations().find((a) => a.id === booking.accommodationId)\r\n\r\n  const nights = Math.floor(\r\n    (new Date(booking.dateTo).getTime() - new Date(booking.dateFrom).getTime()) / (1000 * 60 * 60 * 24),\r\n  )\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-(--gray-bg) flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-2xl bg-white border border-(--gray-light) rounded-lg p-8\">\r\n        <div className=\"text-center mb-8 border-b border-(--gray-light) pb-6\">\r\n          <h1 className=\"text-3xl font-bold text-(--primary-blue) mb-1\">RECEIPT</h1>\r\n          <p className=\"text-(--gray-dark)\">Booking Reference: {booking.id}</p>\r\n          <p className=\"text-sm text-(--gray-dark)\">Transaction ID: {booking.transactionId}</p>\r\n        </div>\r\n\r\n        <div className=\"space-y-6\">\r\n          {/* Customer Info */}\r\n          <div>\r\n            <h3 className=\"font-bold text-(--gray-dark) mb-2\">Customer Information</h3>\r\n            <div className=\"text-sm text-(--gray-dark) space-y-1\">\r\n              <p>\r\n                <strong>Name:</strong> {client?.firstName} {client?.lastName}\r\n              </p>\r\n              <p>\r\n                <strong>Email:</strong> {client?.email}\r\n              </p>\r\n              <p>\r\n                <strong>Phone:</strong> {client?.phoneNumber}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Booking Details */}\r\n          <div>\r\n            <h3 className=\"font-bold text-(--gray-dark) mb-2\">Accommodation</h3>\r\n            <div className=\"text-sm text-(--gray-dark) space-y-1\">\r\n              <p>\r\n                <strong>Name:</strong> {accommodation?.name}\r\n              </p>\r\n              <p>\r\n                <strong>Type:</strong> {accommodation?.type}\r\n              </p>\r\n              <p>\r\n                <strong>Check-in:</strong> {booking.dateFrom}\r\n              </p>\r\n              <p>\r\n                <strong>Check-out:</strong> {booking.dateTo}\r\n              </p>\r\n              <p>\r\n                <strong>Nights:</strong> {nights}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Billing */}\r\n          <div className=\"border-t border-b border-(--gray-light) py-4\">\r\n            <div className=\"flex justify-between text-sm mb-2\">\r\n              <span>Rate per night:</span>\r\n              <span>₱{accommodation?.pricePerNight}</span>\r\n            </div>\r\n            <div className=\"flex justify-between text-sm mb-4\">\r\n              <span>Nights:</span>\r\n              <span>{nights}</span>\r\n            </div>\r\n            <div className=\"flex justify-between font-bold text-lg\">\r\n              <span>Total:</span>\r\n              <span className=\"text-(--primary-blue)\">₱{booking.totalAmount.toLocaleString()}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status */}\r\n          <div className=\"text-center\">\r\n            <div className=\"inline-block px-4 py-2 bg-green text-white rounded font-bold mb-4\">\r\n              ✓ Payment Successful\r\n            </div>\r\n            <p className=\"text-sm text-(--gray-dark)\">Status: {booking.status.toUpperCase()}</p>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex gap-4\">\r\n            <button\r\n              onClick={() => window.print()}\r\n              className=\"flex-1 py-2 bg-(--primary-blue) text-white rounded font-bold hover:bg-blue-900\"\r\n            >\r\n              Print Receipt\r\n            </button>\r\n            <button\r\n              onClick={() => router.push(\"/dashboard\")}\r\n              className=\"flex-1 py-2 bg-(--yellow) text-(--gray-dark) rounded font-bold hover:bg-yellow-400\"\r\n            >\r\n              Back to Dashboard\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}