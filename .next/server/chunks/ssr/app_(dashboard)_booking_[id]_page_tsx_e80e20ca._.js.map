{"version":3,"sources":["../../../../app/%28dashboard%29/booking/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter, useParams } from \"next/navigation\"\r\nimport { storage, type Booking } from \"@/lib/storage\"\r\n\r\nexport default function BookingDetailsPage() {\r\n  const router = useRouter()\r\n  const params = useParams()\r\n  const bookingId = params.id as string\r\n  const [booking, setBooking] = useState<Booking | null>(null)\r\n\r\n  useEffect(() => {\r\n    const b = storage.getBookings().find((b) => b.id === bookingId)\r\n    setBooking(b || null)\r\n  }, [bookingId])\r\n\r\n  if (!booking) return <div className=\"text-center py-12\">Loading...</div>\r\n\r\n  const client = storage.getClients().find((c) => c.id === booking.clientId)\r\n  const accommodation = storage.getAccommodations().find((a) => a.id === booking.accommodationId)\r\n\r\n  const nights = Math.floor(\r\n    (new Date(booking.dateTo).getTime() - new Date(booking.dateFrom).getTime()) / (1000 * 60 * 60 * 24),\r\n  )\r\n\r\n  const handleStatusChange = (newStatus: string) => {\r\n    storage.updateBooking(bookingId, { status: newStatus as any })\r\n    setBooking({ ...booking, status: newStatus as any })\r\n  }\r\n\r\n  const handlePaymentStatus = () => {\r\n    storage.updateBooking(bookingId, {\r\n      paymentStatus: \"paid\",\r\n      transactionId: `TEST${Date.now()}`,\r\n    })\r\n    setBooking({ ...booking, paymentStatus: \"paid\" })\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-3xl font-bold text-(--primary-blue)\">Booking Details</h1>\r\n        <button\r\n          onClick={() => window.print()}\r\n          className=\"px-4 py-2 bg-(--primary-blue) text-white rounded font-bold hover:bg-blue-900\"\r\n        >\r\n          Print Receipt\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-6\">\r\n        {/* Left - Booking Info */}\r\n        <div className=\"bg-white border border-(--gray-light) rounded p-6 space-y-6\">\r\n          <div>\r\n            <h3 className=\"font-bold text-(--gray-dark) mb-3\">Customer Information</h3>\r\n            <div className=\"space-y-2 text-sm text-(--gray-dark)\">\r\n              <p>\r\n                <strong>Name:</strong> {client?.firstName} {client?.lastName}\r\n              </p>\r\n              <p>\r\n                <strong>Email:</strong> {client?.email}\r\n              </p>\r\n              <p>\r\n                <strong>Phone:</strong> {client?.phoneNumber}\r\n              </p>\r\n              <p>\r\n                <strong>Address:</strong> {client?.address || \"N/A\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h3 className=\"font-bold text-(--gray-dark) mb-3\">Accommodation</h3>\r\n            <div className=\"space-y-2 text-sm text-(--gray-dark)\">\r\n              <p>\r\n                <strong>Name:</strong> {accommodation?.name}\r\n              </p>\r\n              <p>\r\n                <strong>Type:</strong> {accommodation?.type}\r\n              </p>\r\n              <p>\r\n                <strong>Capacity:</strong> {accommodation?.capacity} guests\r\n              </p>\r\n              <p>\r\n                <strong>Description:</strong> {accommodation?.description}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h3 className=\"font-bold text-(--gray-dark) mb-3\">Dates</h3>\r\n            <div className=\"space-y-2 text-sm text-(--gray-dark)\">\r\n              <p>\r\n                <strong>Check-in:</strong> {booking.dateFrom}\r\n              </p>\r\n              <p>\r\n                <strong>Check-out:</strong> {booking.dateTo}\r\n              </p>\r\n              <p>\r\n                <strong>Nights:</strong> {nights}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right - Billing & Actions */}\r\n        <div className=\"space-y-6\">\r\n          {/* Billing */}\r\n          <div className=\"bg-white border border-(--gray-light) rounded p-6\">\r\n            <h3 className=\"font-bold text-(--gray-dark) mb-4\">Billing</h3>\r\n            <div className=\"space-y-2 text-sm mb-4 border-b border-(--gray-light) pb-4\">\r\n              <div className=\"flex justify-between\">\r\n                <span>Rate per night:</span>\r\n                <span className=\"font-bold\">₱{accommodation?.pricePerNight}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Nights:</span>\r\n                <span className=\"font-bold\">{nights}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-lg font-bold\">\r\n                <span>Total:</span>\r\n                <span className=\"text-(--primary-blue)\">₱{booking.totalAmount.toLocaleString()}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"text-sm\">\r\n              <p className=\"text-(--gray-dark) mb-2\">\r\n                <strong>Payment Status:</strong>\r\n              </p>\r\n              <div className=\"flex gap-2\">\r\n                <span\r\n                  className={`px-3 py-1 rounded font-bold ${\r\n                    booking.paymentStatus === \"paid\" ? \"bg-green-100 text-green\" : \"bg-yellow-100 text-yellow-800\"\r\n                  }`}\r\n                >\r\n                  {booking.paymentStatus === \"paid\" ? \"✓ Paid\" : \"Unpaid\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status & Actions */}\r\n          <div className=\"bg-white border border-(--gray-light) rounded p-6 space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-bold text-(--gray-dark) mb-2\">Status</label>\r\n              <select\r\n                value={booking.status}\r\n                onChange={(e) => handleStatusChange(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-(--gray-light) rounded\"\r\n              >\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"confirmed\">Confirmed</option>\r\n                <option value=\"completed\">Completed</option>\r\n                <option value=\"cancelled\">Cancelled</option>\r\n              </select>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handlePaymentStatus}\r\n              disabled={booking.paymentStatus === \"paid\"}\r\n              className=\"w-full py-2 bg-(--yellow) text-(--gray-dark) rounded font-bold hover:bg-yellow-400 disabled:opacity-50\"\r\n            >\r\n              {booking.paymentStatus === \"paid\" ? \"Already Paid\" : \"Mark as Paid\"}\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => router.push(\"/bookings\")}\r\n              className=\"w-full py-2 bg-(--primary-blue) text-white rounded font-bold hover:bg-blue-900\"\r\n            >\r\n              Back to Bookings\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}