{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/pos-booking-system/app/%28dashboard%29/bookings/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { storage, type Booking } from \"@/lib/storage\"\n\ntype FilterStatus = \"all\" | \"today\" | \"upcoming\" | \"completed\" | \"cancelled\"\n\nexport default function BookingsPage() {\n  const [bookings, setBookings] = useState<Booking[]>([])\n  const [filter, setFilter] = useState<FilterStatus>(\"all\")\n\n  useEffect(() => {\n    const allBookings = storage.getBookings()\n    setBookings(allBookings)\n  }, [])\n\n  const getFilteredBookings = () => {\n    const today = new Date().toISOString().split(\"T\")[0]\n    const now = new Date()\n\n    return bookings.filter((b) => {\n      switch (filter) {\n        case \"today\":\n          return b.dateFrom === today\n        case \"upcoming\":\n          return new Date(b.dateFrom) > now && b.status !== \"cancelled\"\n        case \"completed\":\n          return b.status === \"completed\"\n        case \"cancelled\":\n          return b.status === \"cancelled\"\n        default:\n          return true\n      }\n    })\n  }\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Are you sure?\")) {\n      storage.deleteBooking(id)\n      setBookings(storage.getBookings())\n    }\n  }\n\n  const handleStatusChange = (id: string, newStatus: string) => {\n    storage.updateBooking(id, { status: newStatus as any })\n    setBookings(storage.getBookings())\n  }\n\n  const filteredBookings = getFilteredBookings()\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"confirmed\":\n        return \"bg-green-100 text-green\"\n      case \"pending\":\n        return \"bg-yellow-100 text-yellow-800\"\n      case \"completed\":\n        return \"bg-blue-100 text-blue-800\"\n      case \"cancelled\":\n        return \"bg-red-100 text-red\"\n      default:\n        return \"bg-gray-100 text-gray-800\"\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold text-(--primary-blue)\">Bookings</h1>\n        <Link\n          href=\"/booking/new\"\n          className=\"px-4 py-2 bg-(--yellow) text-(--gray-dark) rounded font-bold hover:bg-yellow-400\"\n        >\n          New Booking\n        </Link>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex gap-2 bg-white p-4 rounded border border-(--gray-light)\">\n        {[\"all\", \"today\", \"upcoming\", \"completed\", \"cancelled\"].map((f) => (\n          <button\n            key={f}\n            onClick={() => setFilter(f as FilterStatus)}\n            className={`px-4 py-2 rounded font-bold capitalize text-sm transition-colors ${\n              filter === f ? \"bg-(--primary-blue) text-white\" : \"bg-(--gray-bg) text-(--gray-dark) hover:bg-gray-300\"\n            }`}\n          >\n            {f}\n          </button>\n        ))}\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-white border border-(--gray-light) rounded overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead className=\"bg-(--gray-bg) border-b border-(--gray-light)\">\n            <tr>\n              <th className=\"text-left py-3 px-4 font-bold text-(--gray-dark)\">ID</th>\n              <th className=\"text-left py-3 px-4 font-bold text-(--gray-dark)\">Client</th>\n              <th className=\"text-left py-3 px-4 font-bold text-(--gray-dark)\">Room</th>\n              <th className=\"text-left py-3 px-4 font-bold text-(--gray-dark)\">Dates</th>\n              <th className=\"text-left py-3 px-4 font-bold text-(--gray-dark)\">Amount</th>\n              <th className=\"text-left py-3 px-4 font-bold text-(--gray-dark)\">Status</th>\n              <th className=\"text-left py-3 px-4 font-bold text-(--gray-dark)\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredBookings.map((b) => {\n              const client = storage.getClients().find((c) => c.id === b.clientId)\n              const room = storage.getAccommodations().find((a) => a.id === b.accommodationId)\n              return (\n                <tr key={b.id} className=\"border-b border-(--gray-light) hover:bg-(--gray-bg)\">\n                  <td className=\"py-3 px-4 text-sm font-mono\">{b.id.substring(0, 8)}</td>\n                  <td className=\"py-3 px-4 text-sm\">\n                    {client?.firstName} {client?.lastName}\n                  </td>\n                  <td className=\"py-3 px-4 text-sm\">{room?.name}</td>\n                  <td className=\"py-3 px-4 text-sm\">\n                    {b.dateFrom} to {b.dateTo}\n                  </td>\n                  <td className=\"py-3 px-4 text-sm font-bold\">â‚±{b.totalAmount.toLocaleString()}</td>\n                  <td className=\"py-3 px-4\">\n                    <span className={`px-2 py-1 rounded text-xs font-bold ${getStatusColor(b.status)}`}>\n                      {b.status}\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-sm space-x-2\">\n                    <Link href={`/booking/${b.id}`} className=\"text-(--primary-blue) hover:underline\">\n                      View\n                    </Link>\n                    <button onClick={() => handleDelete(b.id)} className=\"text-red hover:underline\">\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      {filteredBookings.length === 0 && (\n        <div className=\"text-center py-12 bg-(--gray-bg) rounded\">\n          <p className=\"text-(--gray-dark)\">No bookings found.</p>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAe;IAEnD,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,yHAAO,CAAC,WAAW;QACvC,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,sBAAsB;QAC1B,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QACpD,MAAM,MAAM,IAAI;QAEhB,OAAO,SAAS,MAAM,CAAC,CAAC;YACtB,OAAQ;gBACN,KAAK;oBACH,OAAO,EAAE,QAAQ,KAAK;gBACxB,KAAK;oBACH,OAAO,IAAI,KAAK,EAAE,QAAQ,IAAI,OAAO,EAAE,MAAM,KAAK;gBACpD,KAAK;oBACH,OAAO,EAAE,MAAM,KAAK;gBACtB,KAAK;oBACH,OAAO,EAAE,MAAM,KAAK;gBACtB;oBACE,OAAO;YACX;QACF;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,IAAI,QAAQ,kBAAkB;YAC5B,yHAAO,CAAC,aAAa,CAAC;YACtB,YAAY,yHAAO,CAAC,WAAW;QACjC;IACF;IAEA,MAAM,qBAAqB,CAAC,IAAY;QACtC,yHAAO,CAAC,aAAa,CAAC,IAAI;YAAE,QAAQ;QAAiB;QACrD,YAAY,yHAAO,CAAC,WAAW;IACjC;IAEA,MAAM,mBAAmB;IAEzB,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAMH,8OAAC;gBAAI,WAAU;0BACZ;oBAAC;oBAAO;oBAAS;oBAAY;oBAAa;iBAAY,CAAC,GAAG,CAAC,CAAC,kBAC3D,8OAAC;wBAEC,SAAS,IAAM,UAAU;wBACzB,WAAW,CAAC,iEAAiE,EAC3E,WAAW,IAAI,mCAAmC,uDAClD;kCAED;uBANI;;;;;;;;;;0BAYX,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;;;;;;;;;;;;sCAGrE,8OAAC;sCACE,iBAAiB,GAAG,CAAC,CAAC;gCACrB,MAAM,SAAS,yHAAO,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,EAAE,QAAQ;gCACnE,MAAM,OAAO,yHAAO,CAAC,iBAAiB,GAAG,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,EAAE,eAAe;gCAC/E,qBACE,8OAAC;oCAAc,WAAU;;sDACvB,8OAAC;4CAAG,WAAU;sDAA+B,EAAE,EAAE,CAAC,SAAS,CAAC,GAAG;;;;;;sDAC/D,8OAAC;4CAAG,WAAU;;gDACX,QAAQ;gDAAU;gDAAE,QAAQ;;;;;;;sDAE/B,8OAAC;4CAAG,WAAU;sDAAqB,MAAM;;;;;;sDACzC,8OAAC;4CAAG,WAAU;;gDACX,EAAE,QAAQ;gDAAC;gDAAK,EAAE,MAAM;;;;;;;sDAE3B,8OAAC;4CAAG,WAAU;;gDAA8B;gDAAE,EAAE,WAAW,CAAC,cAAc;;;;;;;sDAC1E,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAK,WAAW,CAAC,oCAAoC,EAAE,eAAe,EAAE,MAAM,GAAG;0DAC/E,EAAE,MAAM;;;;;;;;;;;sDAGb,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC,uKAAI;oDAAC,MAAM,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE;oDAAE,WAAU;8DAAwC;;;;;;8DAGlF,8OAAC;oDAAO,SAAS,IAAM,aAAa,EAAE,EAAE;oDAAG,WAAU;8DAA2B;;;;;;;;;;;;;mCAnB3E,EAAE,EAAE;;;;;4BAyBjB;;;;;;;;;;;;;;;;;YAKL,iBAAiB,MAAM,KAAK,mBAC3B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;;;;;;AAK5C"}}]
}